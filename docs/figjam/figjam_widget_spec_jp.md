# Sticky Point ウィジェット仕様書

## タグライン
カスタマイズ可能なポイントタグを付箋に付けて、集計しましょう。

## 説明
Sticky Pointは、付箋に「ポイント」タグを追加・管理する機能を提供し、あなたのFigJam体験を多機能に向上させます。

このウィジェットには、主に4つの機能があります。

**タギングモード**
このモードでは、完全にカスタマイズ可能なポイントタグを付箋に付けることができます。サイズや色を調整して、タスクの優先順位付け、工数の見積もり、アイデアの分類などに活用できます。ウィジェットは「stickable（貼り付け可能）」で、付箋などのオブジェクトに追従し、追従先のオブジェクトが削除されると自動的に削除されます。より安定させたい場合は、プロパティパネルの **Grouping（グルーピング）** トグルを有効にできます。これにより、ポイントウィジェットが追従先のオブジェクトにロックされ、FigJamの整列・均等配置ツールを使った際に意図せず動いてしまうのを防ぎます。また、この自動グルーピング機能はより精密で、グループ内にポイントウィジェットと追従先以外のオブジェクトが含まれている場合に、誤ってグループが解除されてしまうのを防ぎ、複雑な配置が意図せず崩れることを保証します。

**集計モード**
ポイントを集計したい時は、このモードに切り替えます。集計したいポイントタグが含まれるエリアを選択し、「Count」ボタンをクリックするだけです。Sticky Pointが即座にすべてのポイントタグの合計値を計算・表示します。さらに詳しく分析したい場合は、「Show details（詳細を表示）」をクリックすると、ポイント値ごとの内訳を確認できます。これにより、素早く洞察を得て、情報に基づいた意思決定ができます。

さらに、集計モードには **Compact Mode（コンパクトモード）** が追加され、合計ポイントと更新ボタンのみを表示する、よりスリムな表示が可能になりました。`Count Target`（集計対象）プロパティでは、`Manual Selection`（手動選択）と `Containing Section`（属するセクション）から選択できます。`Containing Section` を選択すると、「Count」ボタンを押した際に、**ウィジェットが配置されているセクション内のすべてのポイントウィジェットを自動的に集計します**。`Manual Selection` を選択した場合は、現在選択されているポイントウィジェットを集計します。便利なショートカットとして、もしポイントウィジェットが明示的に選択されておらず、かつ集計ウィジェットがFigJamのセクション内に配置されている場合、「Count」ボタンを押すと、**そのセクション内のすべてのポイントウィジェットを自動的に集計します**。これにより、手動で選択しなくても素早く合計値を得ることができます。また、ウィジェットは現在の集計範囲（特定のセクション内か、手動選択かなど）を明確にフィードバックします。

**整理モード**
このモードでは、選択したポイントウィジェットのグルーピングを効率的に管理できます。選択したポイントウィジェットを **Group（グループ化）** または **Ungroup（グループ解除）** するための専用ボタンが用意されています。この操作は、追従先のオブジェクトを持つポイントウィジェットのみを対象とし、そのグルーピング/グループ解除のロジックは、ポイントウィジェットに組み込まれている自動グルーピング機能の挙動を反映しています。さらに、複雑な状況に対応するため、このモードには **Force Ungroup（強制グループ解除）** トグルが含まれています。このオプションを有効にすると、ポイントウィジェットとその追従先を含むグループに他の要素が含まれている場合でも、そのグループを強制的に解除します。これにより、デフォルトの安全なグループ解除の挙動を上書きし、複雑なグループを手動で編集することなく直接分解できます。

**スティッキータガーモード**
このモードは、複数の付箋に素早くポイントを適用するための強力なワークフローを提供します。あらかじめ設定された「ポイント」ウィジェット（タグ）のパレットを作成し、素早く適用することができます。キャンバスのスペースを節約するために、スティッキータガーには **Compact Mode（コンパクトモード）** もあります。タグパレットの設定が完了したらこのモードに切り替えることで、ウィジェットを単一のアイコンに最小化できます。これにより、タガーをすぐに使える状態に保ちつつ、ワークスペースを整頓できます。

- **タグパレット**: ボード上にある既存の「ポイント」ウィジェットを、スティッキータガーのパレットに「テンプレート」として登録できます。これにより、ウィジェットのポイント値、色、サイズが再利用可能なテンプレートとして保存されます。パレットのタグボタンは、元のウィジェットのサイズ（小、中、大）を動的に反映するため、視覚的な一貫性が向上し、異なる種類のポイントを一目で識別しやすくなります。システムは、プロパティに基づき、完全に同一の重複を賢くスキップします。一度登録されれば、テンプレートは独立して保存されるため、元のウィジェットはキャンバスから安全に削除できます。
- **タグの適用**: パレットを作成したら、ボード上で付箋を1つ以上選択し、パレットからタグをクリックするだけです。テンプレートウィジェットのコピーが、選択された各付箋に即座に貼り付けられます。
- **一括削除**: このツールはクリーンアップにも役立ちます。オブジェクトのグループを選択し、一括削除機能を使用すると、その選択範囲内のすべての「ポイント」ウィジェットを削除できます。